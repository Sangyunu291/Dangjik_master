<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>CSV to Python Console</title>
    <style>
        body { font-family: sans-serif; display: flex; justify-content: center; padding-top: 100px; background: #f0f2f5; }
        .card { background: white; padding: 30px; border-radius: 12px; shadow: 0 4px 6px rgba(0,0,0,0.1); }
        button { margin-top: 10px; width: 100%; padding: 10px; cursor: pointer; background: #007bff; color: white; border: none; border-radius: 4px; }
    </style>
</head>
<body>
    <div class="card">
        <h3>ğŸ“„ CSV íŒŒì¼ì„ íŒŒì´ì¬ìœ¼ë¡œ ì „ì†¡</h3>
        <input type="file" id="csvFileInput" accept=".csv">
        <button onclick="uploadCSV()">íŒŒì´ì¬ ì½˜ì†”ë¡œ ì¶œë ¥</button>
        <p id="msg" style="font-size: 12px; color: #666;"></p>
    </div>

    <script>
        async function uploadCSV() {
            const fileInput = document.getElementById('csvFileInput');
            if (!fileInput.files[0]) return alert("íŒŒì¼ì„ ë¨¼ì € ì„ íƒí•˜ì„¸ìš”!");

            const file = fileInput.files[0];
            const text = await file.text(); // íŒŒì¼ ë‚´ìš©ì„ í…ìŠ¤íŠ¸ë¡œ ì½ìŒ

            const response = await fetch('/upload', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ csv_text: text })
            });

            const result = await response.json();
            document.getElementById('msg').innerText = "ê²°ê³¼: " + result.message;
        }
    </script>
</body>
</html>